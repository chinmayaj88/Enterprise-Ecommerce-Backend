<div align="center">

# 🏛️ OCI Production Architecture - India Region

[![Architecture](https://img.shields.io/badge/Architecture-Production-blue?style=for-the-badge)](.)
[![OCI](https://img.shields.io/badge/Cloud-OCI-green?style=flat-square&logo=oracle&logoColor=white)](https://www.oracle.com/cloud/)
[![Complete](https://img.shields.io/badge/Diagram-Complete-orange?style=flat-square)](.)

**Complete Infrastructure Diagram**

</div>

---

```
┌─────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    ORACLE CLOUD INFRASTRUCTURE (OCI)                                      │
│                                         India Central (IN-HYDERABAD-1)                                    │
└─────────────────────────────────────────────────────────────────────────────────────────────────────────┘
                                                                 │
                                                                 │
                    ┌────────────────────────────────────────────┴────────────────────────────────────────┐
                    │                                                                                      │
                    │                                    TENANCY                                            │
                    │                              (ecommerce-tenancy)                                      │
                    │                                                                                      │
                    └────────────────────────────────────────────┬────────────────────────────────────────┘
                                                                 │
                    ┌────────────────────────────────────────────┴────────────────────────────────────────┐
                    │                                                                                      │
                    │                              COMPARTMENT                                            │
                    │                        (ecommerce-production)                                        │
                    │                                                                                      │
                    └────────────────────────────────────────────┬────────────────────────────────────────┘
                                                                 │
┌────────────────────────────────────────────────────────────────┼──────────────────────────────────────────────────────────┐
│                                                                 │                                                          │
│  ┌────────────────────────────────────────────────────────────┴────────────────────────────────────────────────────┐  │
│  │                                                                                                                    │  │
│  │                                    REGION: IN-HYDERABAD-1                                                         │  │
│  │                                    (India Central)                                                                │  │
│  │                                                                                                                    │  │
│  └────────────────────────────────────────────────────────────┬────────────────────────────────────────────────────┘  │
│                                                                 │                                                          │
│  ┌────────────────────────────────────────────────────────────┴────────────────────────────────────────────────────┐  │
│  │                                                                                                                    │  │
│  │                                    VCN (Virtual Cloud Network)                                                    │  │
│  │                                    CIDR: 10.0.0.0/16                                                              │  │
│  │                                    (ecommerce-production-vcn)                                                      │  │
│  │                                                                                                                    │  │
│  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │                                                                                                            │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │                                                                                                    │  │  │  │
│  │  │  │  AVAILABILITY DOMAIN 1 (AD-1)                                                                     │  │  │  │
│  │  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │  │
│  │  │  │  │                                                                                            │  │  │  │  │
│  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────────────────────┐  │  │  │  │  │
│  │  │  │  │  │  PUBLIC SUBNET (10.0.1.0/24)                                                       │  │  │  │  │  │
│  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────────────┐  │  │  │  │  │  │
│  │  │  │  │  │  │                                                                              │  │  │  │  │  │  │
│  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────────┐ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  OCI LOAD BALANCER (Flexible Shape: 100-1000 Mbps)                    │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────────────────────────┐ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  Listener: HTTP (80) → HTTPS (443)                               │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  Backend Set: OKE Node Pool (Port 3000-3010)                     │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  Health Checks: /health, /ready                                  │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  └────────────────────────────────────────────────────────────────────┘ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  └──────────────────────────────────────────────────────────────────────────┘ │  │  │  │  │  │  │
│  │  │  │  │  │  │                                                                              │  │  │  │  │  │  │
│  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────────┐ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  NAT GATEWAY                                                           │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  (Outbound internet access for private subnets)                       │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  └──────────────────────────────────────────────────────────────────────────┘ │  │  │  │  │  │  │
│  │  │  │  │  │  │                                                                              │  │  │  │  │  │  │
│  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────────┐ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  SERVICE GATEWAY                                                       │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  (OCI Object Storage, Streaming, etc.)                                 │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  └──────────────────────────────────────────────────────────────────────────┘ │  │  │  │  │  │  │
│  │  │  │  │  │  └──────────────────────────────────────────────────────────────────────────────┘ │  │  │  │  │  │
│  │  │  │  │  └──────────────────────────────────────────────────────────────────────────────────────┘ │  │  │  │
│  │  │  │  │                                                                                            │  │  │  │
│  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────────────────────┐ │  │  │  │
│  │  │  │  │  │  PRIVATE SUBNET (10.0.2.0/24)                                                       │  │  │  │  │
│  │  │  │  │  │  ┌────────────────────────────────────────────────────────────────────────────────┐ │  │  │  │  │
│  │  │  │  │  │  │                                                                                │  │  │  │  │  │
│  │  │  │  │  │  │  ┌────────────────────────────────────────────────────────────────────────────┐ │  │  │  │  │  │
│  │  │  │  │  │  │  │  OKE CLUSTER (Oracle Kubernetes Engine)                                  │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  Kubernetes Version: v1.34.1                                             │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────┐ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  CONTROL PLANE (Managed by OCI)                                      │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  - API Server                                                         │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  - etcd                                                               │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  - Scheduler                                                          │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  - Controller Manager                                                 │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  └──────────────────────────────────────────────────────────────────────┘ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │                                                                          │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────────────┐ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  NODE POOL 1                                                      │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  Shape: VM.Standard.E4.Flex (2 OCPUs, 32GB RAM)                   │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │                                                                  │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────┐ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  FAULT DOMAIN 1                                              │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────────────┐ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Node 1 (Worker)                                         │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────────┐ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  NGINX INGRESS CONTROLLER                          │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  - Routes external traffic to services             │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  - SSL/TLS termination                             │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────────┘ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │                                                          │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────────┐ │ │ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  NAMESPACE: ecommerce                               │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────┐ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  GATEWAY SERVICE (Port 3000)                   │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Deployment: 3 replicas                         │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  HPA: 3-20 replicas (CPU: 70%, Memory: 80%)     │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Service: ClusterIP                            │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  ConfigMap: NODE_ENV, PORT, LOG_LEVEL          │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Secret: JWT_SECRET (from OCI Vault)           │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  → Routes to: auth, user, product, cart, etc.  │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────┘ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │                                                      │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────┐ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  AUTH SERVICE (Port 3001)                      │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Deployment: 2 replicas                        │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  HPA: 2-10 replicas                             │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Service: ClusterIP                            │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  ConfigMap: NODE_ENV, PORT, REDIS_URL          │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Secret: DATABASE_URL, JWT_SECRET (OCI Vault) │ │ │ │ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  → Uses: Auth DB (ADB), Redis Cache            │ │ │ │ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────┘ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │                                                      │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────┐ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  USER SERVICE (Port 3002)                      │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Deployment: 2 replicas                        │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  HPA: 2-10 replicas                             │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  → Uses: User DB (ADB), Redis Cache             │ │ │ │ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────┘ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │                                                      │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────┐ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  PRODUCT SERVICE (Port 3003)                   │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  Deployment: 3 replicas                        │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  HPA: 3-15 replicas                             │ │ │ │ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  → Uses: Product DB (ADB), Redis Cache          │ │ │ │ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────┘ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │                                                      │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────┐ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  CART SERVICE (Port 3004)                      │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  ORDER SERVICE (Port 3005)                      │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  PAYMENT SERVICE (Port 3006)                     │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  NOTIFICATION SERVICE (Port 3007)              │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  DISCOUNT SERVICE (Port 3008)                   │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  SHIPPING SERVICE (Port 3009)                   │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  RETURN SERVICE (Port 3010)                     │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  (Each with: Deployment, Service, HPA, ConfigMap, Secret) │ │ │ │ │ │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────┘ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │                                                      │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────┐ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  METRICS SERVER                                 │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  - Collects resource metrics for HPA           │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────┘ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │                                                      │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────┐ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  NETWORK POLICIES                               │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  - Default deny all                            │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  - Allow DNS                                   │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  │  - Service-specific ingress/egress rules      │ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────┘ │ │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────────┘ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │                                                          │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────┐ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  FAULT DOMAIN 2                                      │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  Node 2 (Worker) - Similar pod distribution        │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  └──────────────────────────────────────────────────────┘ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │                                                          │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────┐ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  FAULT DOMAIN 3                                      │ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  │  Node 3 (Worker) - Similar pod distribution        │ │ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  └──────────────────────────────────────────────────────┘ │ │ │ │  │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  └──────────────────────────────────────────────────────────┘ │ │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  └──────────────────────────────────────────────────────────────────┘ │  │  │  │  │  │
│  │  │  │  │  │  │  │  └────────────────────────────────────────────────────────────────────────┘  │  │  │  │  │
│  │  │  │  │  │  │  └────────────────────────────────────────────────────────────────────────────────┘  │  │  │  │
│  │  │  │  │  │  │                                                                                        │  │  │  │
│  │  │  │  │  │  │  ┌────────────────────────────────────────────────────────────────────────────────┐  │  │  │  │
│  │  │  │  │  │  │  │  DATABASE SUBNET (10.0.3.0/24)                                                │  │  │  │  │
│  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────────────────────────────┐  │  │  │  │  │
│  │  │  │  │  │  │  │  │                                                                        │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────────────────────────┐  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  AUTONOMOUS DATABASES (ADB PostgreSQL)                          │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  ┌──────────────────────────────────────────────────────────────┐ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Auth DB (2 OCPUs, 2TB, Auto-scaling enabled)               │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  User DB (2 OCPUs, 2TB, Auto-scaling enabled)               │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Product DB (2 OCPUs, 2TB, Auto-scaling enabled)            │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Cart DB (2 OCPUs, 2TB, Auto-scaling enabled)               │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Order DB (2 OCPUs, 2TB, Auto-scaling enabled)              │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Payment DB (2 OCPUs, 2TB, Auto-scaling enabled)            │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Notification DB (2 OCPUs, 2TB, Auto-scaling enabled)      │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Discount DB (2 OCPUs, 2TB, Auto-scaling enabled)          │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Shipping DB (2 OCPUs, 2TB, Auto-scaling enabled)          │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  Return DB (2 OCPUs, 2TB, Auto-scaling enabled)             │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  - mTLS enabled (production security)                      │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  - Automated backups (30 days retention)                   │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  │  - Multi-AZ deployment                                    │ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  └──────────────────────────────────────────────────────────────┘ │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────────────────────────┘  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │                                                                        │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  ┌────────────────────────────────────────────────────────────────────┐  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  REDIS CLUSTER (OCI Redis)                                       │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  - 3 nodes (24GB RAM each)                                       │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  - Version: 7.0.5                                                │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  - Used by: All services for caching                            │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  │  - Session storage, rate limiting, etc.                        │  │  │  │  │  │  │
│  │  │  │  │  │  │  │  │  └────────────────────────────────────────────────────────────────────┘  │  │  │  │  │  │
│  │  │  │  │  │  │  │  └────────────────────────────────────────────────────────────────────────┘  │  │  │  │  │
│  │  │  │  │  │  │  └────────────────────────────────────────────────────────────────────────────────┘  │  │  │  │
│  │  │  │  │  │  └────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  │  │  │  └────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │  │  │  │                                                                                                  │  │
│  │  │  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  │  │  │  AVAILABILITY DOMAIN 2 (AD-2)                                                             │  │  │
│  │  │  │  │  │  (Similar structure: Public Subnet, Private Subnet with OKE nodes, Database Subnet)    │  │  │
│  │  │  │  │  │  - Redundancy and high availability                                                      │  │  │
│  │  │  │  │  └────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │  │  │  │                                                                                                  │  │
│  │  │  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  │  │  │  AVAILABILITY DOMAIN 3 (AD-3)                                                             │  │  │
│  │  │  │  │  │  (Similar structure: Public Subnet, Private Subnet with OKE nodes, Database Subnet)    │  │  │
│  │  │  │  │  │  - Redundancy and high availability                                                      │  │  │
│  │  │  │  │  └────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │  │  │  └──────────────────────────────────────────────────────────────────────────────────────────────────┘  │
│  │  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────┘  │
│  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │
│  │                                                                                                                      │
│  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │
│  │                                                                                                                  │  │
│  │  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  OCI STREAMING (Kafka-like)                                                                              │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  Streams:                                                                                           │  │  │  │
│  │  │  │  - user-events (Partitions: 1, Retention: 24h)                                                      │  │  │  │
│  │  │  │  - order-events (Partitions: 1, Retention: 24h)                                                     │  │  │  │
│  │  │  │  - payment-events (Partitions: 1, Retention: 24h)                                                   │  │  │  │
│  │  │  │  - product-events (Partitions: 1, Retention: 24h)                                                   │  │  │  │
│  │  │  │  Used by: All services for event-driven architecture                                                 │  │  │  │
│  │  │  │  Producers: Services publish events                                                                 │  │  │  │
│  │  │  │  Consumers: Services subscribe to events                                                            │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                                  │  │
│  │  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  OCI QUEUE                                                                                              │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  Queues:                                                                                           │  │  │  │
│  │  │  │  - user-service-events                                                                             │  │  │  │
│  │  │  │  - order-service-events                                                                            │  │  │  │
│  │  │  │  - payment-service-events                                                                          │  │  │  │
│  │  │  │  - product-service-events                                                                           │  │  │  │
│  │  │  │  - notification-service-events                                                                      │  │  │  │
│  │  │  │  Used for: Async message processing                                                                │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                                  │  │
│  │  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  OCI CONTAINER REGISTRY                                                                                 │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  Repositories (Private):                                                                          │  │  │  │
│  │  │  │  - ecommerce-production-auth-service                                                              │  │  │  │
│  │  │  │  - ecommerce-production-user-service                                                               │  │  │  │
│  │  │  │  - ecommerce-production-product-service                                                            │  │  │  │
│  │  │  │  - ecommerce-production-cart-service                                                               │  │  │  │
│  │  │  │  - ecommerce-production-order-service                                                              │  │  │  │
│  │  │  │  - ecommerce-production-payment-service                                                             │  │  │  │
│  │  │  │  - ecommerce-production-gateway-service                                                             │  │  │  │
│  │  │  │  - ecommerce-production-notification-service                                                       │  │  │  │
│  │  │  │  - ecommerce-production-discount-service                                                           │  │  │  │
│  │  │  │  - ecommerce-production-shipping-service                                                           │  │  │  │
│  │  │  │  - ecommerce-production-return-service                                                             │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                                  │  │
│  └──────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                                                          │
│  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │
│  │                                                                                                                  │  │
│  │  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  SECURITY & IDENTITY                                                                                   │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  IAM (Identity & Access Management)                                                                │  │  │  │
│  │  │  │  - Dynamic Group: ecommerce-production-oke-services                                                │  │  │  │
│  │  │  │  - Policies: Read secrets, use vaults, access databases, Redis, Streaming, Queue                  │  │  │  │
│  │  │  │  - Service Accounts: All 11 services with OCI IAM integration                                    │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  KMS (Key Management Service)                                                                     │  │  │  │
│  │  │  │  - Vault: ecommerce-production-vault                                                             │  │  │  │
│  │  │  │  - Key: ecommerce-production-secrets-key (AES-256)                                               │  │  │  │
│  │  │  │  - Used for: Encrypting secrets in OCI Vault                                                     │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  OCI VAULT (Secrets Management)                                                                  │  │  │  │
│  │  │  │  - Secrets: ecommerce/production/{service}/database-url                                           │  │  │  │
│  │  │  │  - Secrets: ecommerce/production/{service}/jwt-secret                                            │  │  │  │
│  │  │  │  - Synced to: Kubernetes Secrets via annotations                                                 │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  WAF (Web Application Firewall)                                                                  │  │  │  │
│  │  │  │  - Protection Rules: SQL Injection, XSS, Rate Limiting (2000 req/5min/IP)                      │  │  │  │
│  │  │  │  - IP Whitelist: Allowed IP ranges                                                              │  │  │  │
│  │  │  │  - Attached to: Load Balancer                                                                    │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                                  │  │
│  │  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  MONITORING & OBSERVABILITY                                                                          │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  OCI MONITORING                                                                                   │  │  │  │
│  │  │  │  - Alarms:                                                                                        │  │  │  │
│  │  │  │    * ADB CPU > 80%                                                                               │  │  │  │
│  │  │  │    * ADB Storage > 85%                                                                           │  │  │  │
│  │  │  │    * Redis Memory > 80%                                                                         │  │  │  │
│  │  │  │    * Load Balancer 5xx errors > 10                                                               │  │  │  │
│  │  │  │    * OKE Node CPU > 80%                                                                          │  │  │  │
│  │  │  │  - Metrics: CPU, Memory, Network, Disk I/O                                                        │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  OCI NOTIFICATIONS                                                                                │  │  │  │
│  │  │  │  - Topic: ecommerce-production-alerts                                                             │  │  │  │
│  │  │  │  - Subscriptions: Email (devops@example.com, oncall@example.com)                                 │  │  │  │
│  │  │  │  - Triggers: All monitoring alarms                                                                │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  VCN FLOW LOGS                                                                                    │  │  │  │
│  │  │  │  - Logs all network traffic                                                                       │  │  │  │
│  │  │  │  - Destination: OCI Object Storage                                                                │  │  │  │
│  │  │  │  - Retention: 90 days                                                                             │  │  │  │
│  │  │  │  - Used for: Security analysis, troubleshooting                                                   │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  LOGGING                                                                                          │  │  │  │
│  │  │  │  - CloudWatch Log Groups: /eks/ecommerce-{service}                                               │  │  │  │
│  │  │  │  - Retention: 90 days                                                                            │  │  │  │
│  │  │  │  - Log Sources: All services, OKE control plane                                                   │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                                  │  │
│  │  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │
│  │  │  COST MANAGEMENT                                                                                      │  │  │
│  │  │  ┌────────────────────────────────────────────────────────────────────────────────────────────────────┐  │  │  │
│  │  │  │  OCI COST TRACKING                                                                                │  │  │  │
│  │  │  │  - Cost Analysis: By compartment, service, resource                                              │  │  │  │
│  │  │  │  - Budget Alerts: Set budgets and get notified on threshold                                       │  │  │  │
│  │  │  │  - Usage Reports: Daily, monthly reports                                                         │  │  │  │
│  │  │  │  - Tags: All resources tagged for cost allocation                                                 │  │  │  │
│  │  │  └────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │  │
│  │  └──────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │  │
│  │                                                                                                                  │  │
│  └──────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘  │
│                                                                                                                          │
└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘


┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    TRAFFIC FLOW                                                                          │
└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

Internet Users
      │
      ▼
┌─────────────────┐
│  OCI WAF         │  ← Security: SQL Injection, XSS, Rate Limiting
└────────┬─────────┘
         │
         ▼
┌─────────────────┐
│  Load Balancer   │  ← HTTP/HTTPS (80/443)
│  (Public IP)     │  ← Health Checks
└────────┬─────────┘
         │
         ▼
┌─────────────────┐
│  NGINX Ingress   │  ← Routes to services
│  Controller      │  ← SSL/TLS Termination
└────────┬─────────┘
         │
         ▼
┌─────────────────┐
│  Gateway Service │  ← Port 3000, Routes to all services
│  (3 replicas)   │  ← Rate Limiting, Authentication
└────────┬─────────┘
         │
    ┌────┴────┬──────────────┬──────────────┬──────────────┐
    │         │              │              │              │
    ▼         ▼              ▼              ▼              ▼
┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐ ┌─────────┐
│ Auth    │ │ User    │ │ Product │ │ Cart    │ │ Order   │
│ Service │ │ Service │ │ Service │ │ Service │ │ Service │
│ :3001   │ │ :3002   │ │ :3003   │ │ :3006   │ │ :3004   │
└────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘ └────┬────┘
     │           │           │           │           │
     └───────────┴───────────┴───────────┴───────────┘
                    │
        ┌───────────┴───────────┐
        │                       │
        ▼                       ▼
┌──────────────┐      ┌──────────────┐
│ ADB Databases│      │ Redis Cache  │
│ (10 services)│      │ (3 nodes)    │
└──────────────┘      └──────────────┘


┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    EVENT-DRIVEN ARCHITECTURE                                                             │
└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

Services (Producers)
      │
      ▼
┌─────────────────┐
│  OCI STREAMING   │  ← Kafka-like event streaming
│  (4 streams)     │  ← user-events, order-events, payment-events, product-events
└────────┬─────────┘
         │
         ▼
┌─────────────────┐
│  OCI QUEUE       │  ← Async message processing
│  (5 queues)      │  ← user-service-events, order-service-events, etc.
└────────┬─────────┘
         │
         ▼
Services (Consumers)
      │
      ▼
┌─────────────────┐
│ Notification    │  ← Sends emails, SMS, push notifications
│ Service         │
└─────────────────┘


┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    DATA FLOW SUMMARY                                                                    │
└──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘

1. User Request → WAF → Load Balancer → NGINX Ingress → Gateway Service → Microservice
2. Microservice → Reads from: ADB Database, Redis Cache
3. Microservice → Writes to: ADB Database, Redis Cache
4. Microservice → Publishes events to: OCI Streaming
5. OCI Streaming → Consumed by: Other services via OCI Queue
6. All logs → OCI Logging (90 days retention)
7. All metrics → OCI Monitoring → Alarms → OCI Notifications → Email alerts
8. All secrets → OCI Vault (encrypted with KMS) → Synced to Kubernetes Secrets
9. All network traffic → VCN Flow Logs → OCI Object Storage
10. Cost tracking → OCI Cost Management → Budget alerts

